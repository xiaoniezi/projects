(function(e){function i(i){for(var r,a,s=i[0],o=i[1],l=i[2],m=0,p=[];m<s.length;m++)a=s[m],t[a]&&p.push(t[a][0]),t[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(i);while(p.length)p.shift()();return d.push.apply(d,l||[]),n()}function n(){for(var e,i=0;i<d.length;i++){for(var n=d[i],r=!0,s=1;s<n.length;s++){var o=n[s];0!==t[o]&&(r=!1)}r&&(d.splice(i--,1),e=a(a.s=n[0]))}return e}var r={},t={app:0},d=[];function a(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,i,n){a.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,i){if(1&i&&(e=a(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)a.d(n,r,function(i){return e[i]}.bind(null,r));return n},a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,"a",i),i},a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=i,s=s.slice();for(var l=0;l<s.length;l++)i(s[l]);var c=o;d.push([0,"chunk-vendors"]),n()})({0:function(e,i,n){e.exports=n("56d7")},"27e0":function(e,i,n){},"56d7":function(e,i,n){"use strict";n.r(i);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),t=n("5c96"),d=n.n(t),a=(n("0fae"),function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"check-router"},[n("el-radio-group",{on:{change:e.changeRouter},model:{value:e.type,callback:function(i){e.type=i},expression:"type"}},[n("el-radio-button",{attrs:{label:"RenderTree"}},[e._v("render-content")]),n("el-radio-button",{attrs:{label:"SlotTree"}},[e._v("scoped slot")])],1)],1),n("router-view")],1)}),s=[],o={name:"app",data:function(){return{type:"SlotTree"}},methods:{changeRouter:function(e){this.$router.push({name:this.type})}}},l=o,c=(n("5c0b"),n("2877")),m=Object(c["a"])(l,a,s,!1,null,null,null),p=m.exports,u=n("8c4f"),h=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"expand"},[n("div",[n("el-button",{on:{click:e.handleAddTop}},[e._v("添加顶级节点")]),e.isLoadingTree?n("el-tree",{ref:"expandMenuList",staticClass:"expand-tree",attrs:{data:e.setTree,"node-key":"id","highlight-current":"",props:e.defaultProps,"expand-on-click-node":!1,"render-content":e.renderContent,"default-expanded-keys":e.defaultExpandKeys},on:{"node-click":e.handleNodeClick}}):e._e()],1)])},E=[],f=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("span",{staticClass:"tree-expand"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.DATA.isEdit,expression:"DATA.isEdit"}],staticClass:"tree-label"},[n("el-input",{ref:"treeInput"+e.DATA.id,staticClass:"edit",attrs:{size:"mini",autofocus:""},on:{blur:function(i){return i.stopPropagation(),e.nodeEditPass(e.STORE,e.DATA,e.NODE)}},nativeOn:{click:function(i){return i.stopPropagation(),e.nodeEditFocus(i)},keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:(i.stopPropagation(),e.nodeEditPass(e.STORE,e.DATA,e.NODE))}},model:{value:e.DATA.name,callback:function(i){e.$set(e.DATA,"name",i)},expression:"DATA.name"}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.DATA.isEdit,expression:"!DATA.isEdit"}],class:[e.DATA.id>e.maxexpandId?"tree-new tree-label":"tree-label"]},[n("span",[e._v(e._s(e.DATA.name))])]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.DATA.isEdit,expression:"!DATA.isEdit"}],staticClass:"tree-btn"},[n("i",{staticClass:"el-icon-plus",on:{click:function(i){return i.stopPropagation(),e.nodeAdd(e.STORE,e.DATA,e.NODE)}}}),n("i",{staticClass:"el-icon-edit",on:{click:function(i){return i.stopPropagation(),e.nodeEdit(e.STORE,e.DATA,e.NODE)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(i){return i.stopPropagation(),e.nodeDel(e.STORE,e.DATA,e.NODE)}}})])])},k=[],v={name:"treeExpand",props:["NODE","DATA","STORE","maxexpandId"],methods:{nodeAdd:function(e,i,n){this.$emit("nodeAdd",e,i,n)},nodeEdit:function(e,i,n){var r=this;i.isEdit=!0,this.$nextTick(function(){r.$refs["treeInput"+i.id].$refs.input.focus()}),this.$emit("nodeEdit",e,i,n)},nodeDel:function(e,i,n){this.$emit("nodeDel",e,i,n)},nodeEditPass:function(e,i,n){i.isEdit=!1},nodeEditFocus:function(){}}},T=v,x=(n("92c1"),Object(c["a"])(T,f,k,!1,null,null,null)),S=x.exports,A={maxexpandId:95,treelist:[{id:1,name:"北京市",ProSort:1,remark:"直辖市",pid:"",isEdit:!1,children:[{id:35,name:"朝阳区",pid:1,remark:"",isEdit:!1,children:[]},{id:36,name:"海淀区",pid:1,remark:"",isEdit:!1,children:[]},{id:37,name:"房山区",pid:1,remark:"",isEdit:!1,children:[]},{id:38,name:"丰台区",pid:1,remark:"",isEdit:!1,children:[]},{id:39,name:"昌平区",pid:1,remark:"",isEdit:!1,children:[]},{id:40,name:"大兴区",pid:1,remark:"",isEdit:!1,children:[]}]},{id:2,name:"天津市",ProSort:2,remark:"直辖市",pid:"",isEdit:!1,children:[{id:41,name:"北辰区",pid:2,remark:"",isEdit:!1,children:[]},{id:42,name:"河北区",pid:2,remark:"",isEdit:!1,children:[]},{id:43,name:"西青区",pid:2,remark:"",isEdit:!1,children:[]},{id:44,name:"东丽区",pid:2,remark:"",isEdit:!1,children:[]}]},{id:3,name:"河北省",ProSort:5,remark:"省份",pid:"",isEdit:!1,children:[{id:45,name:"衡水市",pid:3,remark:"",isEdit:!1,children:[]},{id:46,name:"张家口市",pid:3,remark:"",isEdit:!1,children:[]},{id:47,name:"秦皇岛市",pid:3,remark:"",isEdit:!1,children:[]},{id:48,name:"承德市",pid:3,remark:"",isEdit:!1,children:[]},{id:49,name:"邯郸市",pid:3,remark:"",isEdit:!1,children:[]}]},{id:4,name:"山西省",ProSort:6,remark:"省份",pid:"",isEdit:!1,children:[{id:50,name:"大同市",pid:4,remark:"",isEdit:!1,children:[]}]},{id:5,name:"内蒙古自治区",ProSort:32,remark:"自治区",pid:"",isEdit:!1,children:[{id:51,name:"包头市",pid:5,remark:"",isEdit:!1,children:[]}]},{id:6,name:"辽宁省",ProSort:8,remark:"省份",pid:"",isEdit:!1,children:[{id:52,name:"大连市",pid:6,remark:"",isEdit:!1,children:[]},{id:53,name:"太原市",pid:6,remark:"",isEdit:!1,children:[]}]},{id:7,name:"吉林省",ProSort:9,remark:"省份",pid:"",isEdit:!1,children:[{id:54,name:"长春市",pid:7,remark:"",isEdit:!1,children:[]}]},{id:8,name:"黑龙江省",ProSort:10,remark:"省份",pid:"",isEdit:!1,children:[{id:55,name:"哈尔滨市",pid:8,remark:"",isEdit:!1,children:[]}]},{id:9,name:"上海市",ProSort:3,remark:"直辖市",pid:"",isEdit:!1,children:[{id:56,name:"黄浦区",pid:9,remark:"",isEdit:!1,children:[]}]},{id:10,name:"江苏省",ProSort:11,remark:"省份",pid:"",isEdit:!1,children:[{id:57,name:"苏州市",pid:10,remark:"",isEdit:!1,children:[]},{id:58,name:"徐州市",pid:10,remark:"",isEdit:!1,children:[]}]},{id:11,name:"浙江省",ProSort:12,remark:"省份",pid:"",isEdit:!1,children:[{id:59,name:"宁波市",pid:11,remark:"",isEdit:!1,children:[]}]},{id:12,name:"安徽省",ProSort:13,remark:"省份",pid:"",isEdit:!1,children:[{id:60,name:"合肥市",pid:12,remark:"",isEdit:!1,children:[]}]},{id:13,name:"福建省",ProSort:14,remark:"省份",pid:"",isEdit:!1,children:[{id:61,name:"泉州市",pid:13,remark:"",isEdit:!1,children:[]}]},{id:14,name:"江西省",ProSort:15,remark:"省份",pid:"",isEdit:!1,children:[{id:62,name:"景德镇市",pid:14,remark:"",isEdit:!1,children:[]}]},{id:15,name:"山东省",ProSort:16,remark:"省份",pid:"",isEdit:!1,children:[{id:63,name:"青岛市",pid:15,remark:"",isEdit:!1,children:[]}]},{id:16,name:"河南省",ProSort:17,remark:"省份",pid:"",isEdit:!1,children:[{id:64,name:"新乡市",pid:16,remark:"",isEdit:!1,children:[]}]},{id:17,name:"湖北省",ProSort:18,remark:"省份",pid:"",isEdit:!1,children:[{id:65,name:"宜昌市",pid:17,remark:"",isEdit:!1,children:[]},{id:83,name:"武汉市",pid:17,remark:"",isEdit:!1,children:[]}]},{id:18,name:"湖南省",ProSort:19,remark:"省份",pid:"",isEdit:!1,children:[{id:66,name:"长沙市",pid:18,remark:"",isEdit:!1,children:[]}]},{id:19,name:"广东省",ProSort:20,remark:"省份",pid:"",isEdit:!1,children:[{id:67,name:"广州市",pid:19,remark:"",isEdit:!1,children:[]},{id:84,name:"清远市",pid:19,remark:"",isEdit:!1,children:[]},{id:85,name:"佛山市",pid:19,remark:"",isEdit:!1,children:[]}]},{id:20,name:"海南省",ProSort:24,remark:"省份",pid:"",isEdit:!1,children:[{id:68,name:"海口市",pid:20,remark:"",isEdit:!1,children:[]}]},{id:21,name:"广西壮族自治区",ProSort:28,remark:"自治区",pid:"",isEdit:!1,children:[{id:69,name:"玉林市",pid:21,remark:"",isEdit:!1,children:[]},{id:86,name:"贺州市",pid:21,remark:"",isEdit:!1,children:[]}]},{id:22,name:"甘肃省",ProSort:21,remark:"省份",pid:"",isEdit:!1,children:[{id:70,name:"兰州市",pid:22,remark:"",isEdit:!1,children:[]}]},{id:23,name:"陕西省",ProSort:27,remark:"省份",pid:"",isEdit:!1,children:[{id:71,name:"咸阳市",pid:23,remark:"",isEdit:!1,children:[]},{id:87,name:"安康市",pid:23,remark:"",isEdit:!1,children:[]}]},{id:24,name:"新疆维吾尔自治区",ProSort:31,remark:"自治区",pid:"",isEdit:!1,children:[{id:72,name:"乌鲁木齐市",pid:24,remark:"",isEdit:!1,children:[]},{id:88,name:"和田地区",pid:24,remark:"",isEdit:!1,children:[]},{id:89,name:"阿勒泰州",pid:24,remark:"",isEdit:!1,children:[]}]},{id:25,name:"青海省",ProSort:26,remark:"省份",pid:"",isEdit:!1,children:[{id:73,name:"黄南藏族自治州",pid:25,remark:"",isEdit:!1,children:[]}]},{id:26,name:"宁夏回族自治区",ProSort:30,remark:"自治区",pid:"",isEdit:!1,children:[{id:74,name:"银川市",pid:26,remark:"",isEdit:!1,children:[]}]},{id:27,name:"重庆市",ProSort:4,remark:"直辖市",pid:"",isEdit:!1,children:[{id:75,name:"沙坪坝区",pid:27,remark:"",isEdit:!1,children:[]},{id:90,name:"渝北区",pid:27,remark:"",isEdit:!1,children:[]}]},{id:28,name:"四川省",ProSort:22,remark:"省份",pid:"",isEdit:!1,children:[{id:76,name:"成都市",pid:28,remark:"",isEdit:!1,children:[]},{id:91,name:"攀枝花市",pid:28,remark:"",isEdit:!1,children:[]},{id:92,name:"宜宾市",pid:28,remark:"",isEdit:!1,children:[]}]},{id:29,name:"贵州省",ProSort:23,remark:"省份",pid:"",isEdit:!1,children:[{id:77,name:"黔南州",pid:29,remark:"",isEdit:!1,children:[]}]},{id:30,name:"云南省",ProSort:25,remark:"省份",pid:"",isEdit:!1,children:[{id:78,name:"昆明市",pid:30,remark:"",isEdit:!1,children:[]},{id:93,name:"大理州",pid:30,remark:"",isEdit:!1,children:[]}]},{id:31,name:"西藏自治区",ProSort:29,remark:"自治区",pid:"",isEdit:!1,children:[{id:79,name:"拉萨市",pid:31,remark:"",isEdit:!1,children:[]},{id:94,name:"阿里地区",pid:31,remark:"",isEdit:!1,children:[]}]},{id:32,name:"台湾省",ProSort:7,remark:"省份",pid:"",isEdit:!1,children:[{id:80,name:"台北市",pid:32,remark:"",isEdit:!1,children:[]},{id:81,name:"高雄市",pid:32,remark:"",isEdit:!1,children:[]}]},{id:33,name:"澳门特别行政区",ProSort:33,remark:"特别行政区",pid:"",isEdit:!1,children:[]},{id:34,name:"香港特别行政区",ProSort:34,remark:"特别行政区",pid:"",isEdit:!1,children:[{id:82,name:"湾仔区",pid:34,remark:"",isEdit:!1,children:[]},{id:95,name:"西贡区",pid:34,remark:"",isEdit:!1,children:[]}]}]},P={name:"tree",data:function(){return{maxexpandId:A.maxexpandId,non_maxexpandId:A.maxexpandId,isLoadingTree:!1,setTree:A.treelist,defaultProps:{children:"children",label:"name"},defaultExpandKeys:[]}},mounted:function(){console.log(A),this.initExpand()},methods:{initExpand:function(){var e=this;this.setTree.map(function(i){e.defaultExpandKeys.push(i.id)}),this.isLoadingTree=!0},handleNodeClick:function(e,i,n){e.isEdit=!1},renderContent:function(e,i){var n=i.node,r=i.data,t=i.store,d=this;return e(S,{props:{DATA:r,NODE:n,STORE:t,maxexpandId:d.non_maxexpandId},on:{nodeAdd:function(e,i,n){return d.handleAdd(e,i,n)},nodeEdit:function(e,i,n){return d.handleEdit(e,i,n)},nodeDel:function(e,i,n){return d.handleDelete(e,i,n)}}})},handleAddTop:function(){this.setTree.push({id:++this.maxexpandId,name:"新增节点",pid:"",isEdit:!1,children:[]})},handleAdd:function(e,i,n){if(console.log(e,i,n),n.level>=6)return this.$message.error("最多只支持五级！"),!1;i.children.push({id:++this.maxexpandId,name:"新增节点",pid:i.id,isEdit:!1,children:[]}),n.expanded||(n.expanded=!0)},handleEdit:function(e,i,n){console.log(e,i,n)},handleDelete:function(e,i,n){var r=this;console.log(e,i,n);var t=this;if(i.children&&0!==i.children.length)return this.$message.error("此节点有子级，不可删除！"),!1;var d=function(){var e=n.parent.data.children||n.parent.data,t=99999;e.map(function(e,n){i.id==e.id&&(t=n)});e.splice(t,1);r.$message.success("删除成功！")},a=function(){t.$confirm("是否删除此节点？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){d()}).catch(function(){return!1})};i.id>this.non_maxexpandId?d():a()}}},g=P,D=(n("918f"),Object(c["a"])(g,h,E,!1,null,null,null)),_=D.exports,O=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"comp-tree"},[n("el-button",{staticClass:"comp-tr-top",attrs:{type:"primary",size:"small"},on:{click:e.handleAddTop}},[e._v("添加顶级节点")]),n("el-tree",{ref:"SlotTree",attrs:{data:e.setTree,props:e.defaultProps,"expand-on-click-node":!1,"highlight-current":"","node-key":e.NODE_KEY},scopedSlots:e._u([{key:"default",fn:function(i){var r=i.node,t=i.data;return n("div",{staticClass:"comp-tr-node"},[r.isEdit?[n("el-input",{ref:"slotTreeInput"+t[e.NODE_KEY],attrs:{autofocus:"",size:"mini"},on:{blur:function(i){return i.stopPropagation(),e.handleInput(r,t)}},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.handleInput(r,t)}},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"data.name"}})]:[n("span",{class:[t[e.NODE_KEY]<e.NODE_ID_START?"is-new":"","comp-tr-node--name"]},[e._v("\n\t\t\t\t\t\t"+e._s(r.label)+"\n\t\t\t\t\t")]),n("span",{staticClass:"comp-tr-node--btns"},[n("el-button",{attrs:{icon:"el-icon-plus",size:"mini",circle:"",type:"primary"},on:{click:function(i){return e.handleAdd(r,t)}}}),n("el-button",{attrs:{icon:"el-icon-edit",size:"mini",circle:"",type:"info"},on:{click:function(i){return e.handleEdit(r,t)}}}),n("el-button",{attrs:{icon:"el-icon-delete",size:"mini",circle:"",type:"danger"},on:{click:function(i){return e.handleDelete(r,t)}}})],1)]],2)}}])})],1)},b=[],y=n("f499"),$=n.n(y),N={name:"component-tree",data:function(){return{isLoading:!1,setTree:A.treelist||[],NODE_KEY:"id",MAX_LEVEL:3,NODE_ID_START:0,startId:null,defaultProps:{children:"children",label:"name"},initParam:{name:"新增节点",pid:0,children:[]}}},created:function(){this.startId=this.NODE_ID_START},methods:{handleDelete:function(e,i){var n=this;if(console.log(e,i),i.children&&0!==i.children.length)return this.$message.error("此节点有子级，不可删除！"),!1;var r=function(){n.$nextTick(function(){n.$refs.SlotTree&&(n.$refs.SlotTree.remove(i),n.$message.success("删除成功！"))})},t=function(){n.$confirm("是否删除此节点？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){r()}).catch(function(){})};i[this.NODE_KEY]<this.NODE_ID_START?r():t()},handleInput:function(e,i){console.log(e,i),e.isEdit&&this.$set(e,"isEdit",!1)},handleEdit:function(e,i){var n=this;console.log(e,i),e.isEdit||this.$set(e,"isEdit",!0),this.$nextTick(function(){n.$refs["slotTreeInput"+i[n.NODE_KEY]]&&n.$refs["slotTreeInput"+i[n.NODE_KEY]].$refs.input.focus()})},handleAdd:function(e,i){if(console.log(e,i),e.level>=this.MAX_LEVEL)return this.$message.warning("当前已达到"+this.MAX_LEVEL+"级，无法新增！"),!1;var n=JSON.parse($()(this.initParam));n.pid=i[this.NODE_KEY],n[this.NODE_KEY]=--this.startId,i.children||this.$set(i,"children",[]),i.children.push(n),e.expanded||(e.expanded=!0)},handleAddTop:function(){var e=JSON.parse($()(this.initParam));e[this.NODE_KEY]=--this.startId,this.setTree.push(e)}}},I=N,w=(n("6c1f"),Object(c["a"])(I,O,b,!1,null,null,null)),C=w.exports;r["default"].use(u["a"]);var R=new u["a"]({routes:[{path:"/",redirect:"/slot"},{path:"/render",name:"RenderTree",component:_},{path:"/slot",name:"SlotTree",component:C}]});r["default"].use(d.a),r["default"].config.productionTip=!1,new r["default"]({el:"#app",router:R,render:function(e){return e(p)}})},"5c0b":function(e,i,n){"use strict";var r=n("5e27"),t=n.n(r);t.a},"5e27":function(e,i,n){},"686a":function(e,i,n){},"6c1f":function(e,i,n){"use strict";var r=n("27e0"),t=n.n(r);t.a},"8a78":function(e,i,n){},"918f":function(e,i,n){"use strict";var r=n("8a78"),t=n.n(r);t.a},"92c1":function(e,i,n){"use strict";var r=n("686a"),t=n.n(r);t.a}});